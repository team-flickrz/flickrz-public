(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9766],{86383:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify-email/[token]",function(){return n(87465)}])},87465:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(85893),r=n(9008),c=n.n(r),i=n(11163),l=n(67294),a=n(47568),o=n(828),u=n(20414),f=n(25675),d=n.n(f),x=n(18612),p=n(5178),h=n(48728),m=n(94184),g=n.n(m),k=n(22647),w=n(14613),v=n(37674),_=n(60088),y=n(34155),b=function(e){var t=(0,i.useRouter)(),n=(0,x.TL)(),r=(0,o.Z)(h.Z.useLazyVerifyEmailQuery(),2),f=r[0],m=r[1],b=(0,l.useContext)(w.Z).state.lang,j=localStorage.getItem(v.d.ref),N=(0,l.useState)(null),E=N[0],T=N[1],C=(0,l.useCallback)((function(){t.push("/"),E&&(n(p.Y.setToken(E)),window&&window.localStorage.setItem(v.d.token,E||""))}),[t,n,E]);return(0,l.useEffect)((function(){n(p.Y.verifyEmailToken())}),[n,e.token]),(0,l.useEffect)((function(){(0,a.Z)((function(){var t,n,s;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return"string"===typeof(n=e.token)&&n?[4,f({token:n,ref:j||""})]:[2];case 1:return(null===(s=r.sent())||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data.accessToken)&&T(s.data.data.accessToken),[2]}}))}))()}),[]),(0,l.useEffect)((function(){m.isError&&t.push("/expired")}),[t,m.isError]),m.isSuccess?(0,s.jsxs)("div",{className:"flex flex-col items-stretch lg:items-center justify-center w-screen min-h-screen lg:p-5 dark:bg-[#0f0f0f]",children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:b["comp/verify-success"]})}),(0,s.jsx)(k.Z,{bAlwaysOnTop:!0,className:"lg:hidden"}),(0,s.jsxs)("div",{className:g()("grow lg:grow-0 flex flex-col justify-center items-center lg:w-[435px] h-[375px] max-w-[100%] rounded-3xl","bg-white dark:bg-[#272829] lg:drop-shadow-[0_4px_40px_rgba(0,0,0,0.1)] py-[42px] lg:px-[76px] px-6 mb-[2%]"),children:[(0,s.jsx)("div",{className:"text-center mb-9",children:(0,s.jsx)(d(),{src:"".concat(y.env.NEXT_PUBLIC_CLOUDFRONT_URL,"/svg/tick-success.svg"),alt:"",width:"120px",height:"120px"})}),(0,s.jsx)("p",{className:"text-h4 leading-10 font-semibold text-black dark:text-white text-center mb-9",children:b["comp/verify-success-ful"]}),(0,s.jsx)(_.z,{onClick:C,className:"btn-primary w-full text-[16px] !leading-[22px] font-[600] py-[11px] rounded-[10px]",children:b["button/ok"]})]})]}):null},j=function(){var e=(0,i.useRouter)().query.token,t=(0,l.useContext)(w.Z).state.lang;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-screen h-screen p-5",children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:t["comp/verify-email"]})}),(0,s.jsx)(b,{token:e})]})}}},function(e){e.O(0,[2647,9774,2888,179],(function(){return t=86383,e(e.s=t);var t}));var t=e.O();_N_E=t}]);