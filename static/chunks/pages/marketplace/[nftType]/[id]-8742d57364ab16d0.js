(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2583],{48789:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketplace/[nftType]/[id]",function(){return t(5986)}])},5986:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return $}});var i=t(828),a=t(85893),s=t(94184),n=t.n(s),d=t(11163),r=t(67294),o=t(52835),c=t(39068),u=t(2606),x=t(18864),v=t(44181),p=t(44600),m=t(9561),f=t(83076),h=t(57636),g=t(66790),j=t(41722),w=t(17527),b=t(67998),N=t(18612),y=t(17827),k=t(6483),C=t(61821),E=t(60088),F=t(14613),Z=t(48172),_=t(30667),T=t(45700),D=t(5115),G=t(43202),L=t(61103),z=t(68069),P=t(68387),A=function(e){var l=e.className,t=(0,N.CG)((function(e){return e.character})).characterDetail,i=t.character,s=t.config,n=(0,r.useContext)(F.Z).state.lang,d=[{category:n["sb/hat"]||"",itemType:"0",slotKey:"unlock_hat_slot",backgroundColor:"bg-[#F6EAEB] dark:bg-[#F6EAEB]",textColor:"#FF383E"},{category:n["sb/glasses"]||"",itemType:"1",slotKey:"unlock_glass_slot",backgroundColor:"bg-[#EEEBF4] dark:bg-[#BAAADC]",textColor:"#9F72FF"},{category:n["sb/medicine"]||"",itemType:"2",slotKey:"unlock_medicine_slot",backgroundColor:"bg-[#F5F0E2] dark:bg-[#EADFC3]",textColor:"#FFB800"},{category:n["sb/ring"]||"",itemType:"3",slotKey:"unlock_ring_slot",backgroundColor:"bg-[#E9F3F0] dark:bg-[#ADD7C8]",textColor:"#25D395"}];return(0,a.jsx)(L.Z,{className:"pt-5 pb-10 px-6 h-fit !rounded-none md:!rounded-2xl ".concat(l),children:(0,a.jsxs)("div",{className:"flex lg:flex-col gap-4 flex-col-reverse",children:[(0,a.jsxs)("div",{className:"flex flex-col-reverse lg:flex-row gap-[10px]",children:[(0,a.jsxs)("div",{className:"flex w-full lg:w-[60%] flex-row items-center justify-between px-4 py-5 text-h9 text-black font-bold bg-[#000000]/10 dark:bg-[#ffffff]/5 rounded-[10px]",children:[(0,a.jsx)("div",{className:"dark:text-white/90",children:n["rte/total-earning"]}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 text-[20px] dark:text-[#E9FF1A]",children:["".concat(null===i||void 0===i?void 0:i.totalRTEarning),(0,a.jsx)("div",{className:"w-5 h-5",children:(0,a.jsx)(P.s,{})})]})]}),(0,a.jsxs)("div",{className:"flex w-full lg:w-[40%] flex-row items-center justify-between px-4 py-5 text-h9 text-black font-bold bg-[#000000]/10 dark:bg-[#ffffff]/5 rounded-[10px]",children:[(0,a.jsx)("div",{className:"dark:text-white/90",children:n["modal/mint-count"]}),(0,a.jsx)("div",{className:"flex text-[16px] leading-[16px] flex-row items-center gap-2 dark:text-[#E9FF1A]",children:"".concat(null===i||void 0===i?void 0:i.mintCount," / ").concat(null===i||void 0===i?void 0:i.totalCount)})]})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-[10px] w-full",children:[(0,a.jsxs)("div",{className:"w-full flex flex-row justify-between border dark:border-white/30 rounded-[10px] h-[62px] lg:h-fit lg:py-3 lg:pl-5 lg:pr-2",children:[(0,a.jsxs)("div",{className:"flex flex-row lg:flex-col lg:justify-center w-full ",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center w-[180px] pl-[15px] lg:pl-0 pr-[10px] lg:pr-0 min-w-[180px] lg:w-auto lg:min-w-auto",children:[(0,a.jsxs)("div",{className:"w-[25px] h-[22px] lg:w-[35px] lg:h-[32px] relative",children:[(0,a.jsx)(z.Z,{className:"fill-[#FF383E]"}),(0,a.jsx)("div",{className:"text-[12px] leading-[12px] lg:text-[14px] lg:leading-[14px] text-white font-black left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%] absolute",children:"M"})]}),(0,a.jsxs)("div",{className:"pl-[10px] text-h7 lg:text-[20px] font-bold",children:[(0,a.jsx)("span",{className:"text-[#FF383E]",children:null===i||void 0===i?void 0:i.memory}),(0,a.jsxs)("span",{className:"text-black dark:text-white/90",children:[" ","Memory"]})]})]}),(0,a.jsxs)("div",{className:"lg:pt-2 lg:ml-[45px] pl-[15px] lg:pl-0 pr-[10px] justify-center lg:justify-normal lg:pr-0 md:items-center md:mt-[2.5px] lg:mt-0 flex flex-col md:flex-row text-black/70 dark:text-white/70 text-[12px] leading-[18px]",children:[(0,a.jsxs)("div",{className:"text-[12px] leading-[18px]",children:[n["rte/average-earning-rate"],"\xa0",(0,a.jsx)("span",{className:"hidden lg:inline-block",children:":"})," ","\xa0"]}),(0,a.jsxs)("span",{className:"font-bold text-[#FF383E] text-[16px] mt-1 md:mt-0",children:[(0,D.GK)(null===s||void 0===s?void 0:s.averageEarning)," ",(0,_._M)(null===s||void 0===s?void 0:s.tokenTypeEarning)]})]})]}),(0,a.jsx)(G.Z,{item:d[0]})]}),(0,a.jsxs)("div",{className:"w-full flex flex-row justify-between border dark:border-white/30 rounded-[10px] h-[62px] lg:h-fit lg:py-3 lg:pl-5 lg:pr-2",children:[(0,a.jsxs)("div",{className:"flex flex-row lg:flex-col lg:justify-center w-full ",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center w-[180px] pl-[15px] lg:pl-0 pr-[10px] lg:pr-0 min-w-[180px] lg:w-auto lg:min-w-auto",children:[(0,a.jsxs)("div",{className:"w-[25px] h-[22px] lg:w-[35px] lg:h-[32px] relative",children:[(0,a.jsx)(z.Z,{className:"fill-[#9F72FF]"}),(0,a.jsx)("div",{className:"text-white font-black left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%] absolute",children:"F"})]}),(0,a.jsxs)("div",{className:"pl-[10px] text-h7 lg:text-[20px] font-bold",children:[(0,a.jsx)("span",{className:"text-[#9F72FF]",children:null===i||void 0===i?void 0:i.focus}),(0,a.jsxs)("span",{className:"text-black dark:text-white/90",children:[" ","Focus"]})]})]}),(0,a.jsxs)("div",{className:"lg:pt-2 lg:ml-[45px] pl-[15px] lg:pl-0 pr-[10px] justify-center lg:justify-normal lg:pr-0 md:items-center md:mt-[2.5px] lg:mt-0 flex flex-col md:flex-row text-black/70 dark:text-white/70 text-[12px] leading-[18px]",children:[n["rte/reading-time-required"],(0,a.jsxs)("div",{className:"hidden md:inline-block",children:["\xa0",(0,a.jsx)("span",{className:"hidden lg:inline-block",children:":"})," ","\xa0"]}),(0,a.jsx)("span",{className:"font-bold text-[#9F72FF] text-[16px]",children:(0,T.E1)((0,D.GK)(null===s||void 0===s?void 0:s.readingTimeRequired),!0)})]})]}),(0,a.jsx)(G.Z,{item:d[1]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-[10px] w-full",children:[(0,a.jsxs)("div",{className:"w-full flex flex-row justify-between border dark:border-white/30 rounded-[10px] h-[62px] lg:h-fit lg:py-3 lg:pl-5 lg:pr-2",children:[(0,a.jsxs)("div",{className:"flex flex-row lg:flex-col lg:justify-center w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center w-[180px] pl-[15px] lg:pl-0 pr-[10px] lg:pr-0 min-w-[180px] lg:w-auto lg:min-w-auto",children:[(0,a.jsxs)("div",{className:"w-[25px] h-[22px] lg:w-[35px] lg:h-[32px] relative",children:[(0,a.jsx)(z.Z,{className:"fill-[#FFB800]"}),(0,a.jsx)("div",{className:"text-white font-black left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%] absolute",children:"E"})]}),(0,a.jsxs)("div",{className:"pl-[10px] text-h7 lg:text-[20px] font-bold",children:[(0,a.jsx)("span",{className:"text-[#FFB800]",children:null===i||void 0===i?void 0:i.endurance}),(0,a.jsxs)("span",{className:"text-black dark:text-white/90",children:[" ","Endurance"]})]})]}),(0,a.jsxs)("div",{className:"lg:pt-2 lg:ml-[45px] pl-[15px] lg:pl-0 pr-[10px] justify-center lg:justify-normal lg:pr-0 md:items-center md:mt-[2.5px] lg:mt-0 flex flex-col md:flex-row text-black/70 dark:text-white/70 text-[12px] leading-[18px]",children:[n["rte/stamina-decay-rate"],"\xa0",(0,a.jsx)("span",{className:"hidden lg:inline-block",children:":"})," \xa0",(0,a.jsxs)("span",{className:"font-bold text-[#FFB800] text-[16px]",children:[(0,D.lJ)((0,D.GK)(null===s||void 0===s?void 0:s.staminaDecayRate)),"%"]})]})]}),(0,a.jsx)(G.Z,{item:d[2]})]}),(0,a.jsxs)("div",{className:"w-full flex flex-row justify-between border dark:border-white/30 rounded-[10px] h-[62px] lg:h-fit lg:py-3 lg:pl-5 lg:pr-2",children:[(0,a.jsxs)("div",{className:"flex flex-row lg:flex-col lg:justify-center w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center w-[180px] pl-[15px] lg:pl-0 pr-[10px] lg:pr-0 min-w-[180px] lg:w-auto lg:min-w-auto",children:[(0,a.jsxs)("div",{className:"w-[25px] h-[22px] lg:w-[35px] lg:h-[32px] relative",children:[(0,a.jsx)(z.Z,{className:"fill-[#25D395]"}),(0,a.jsx)("div",{className:"text-white font-black left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%] absolute",children:"L"})]}),(0,a.jsxs)("div",{className:"pl-[10px] text-h7 lg:text-[20px] font-bold",children:[(0,a.jsx)("span",{className:"text-[#25D395]",children:null===i||void 0===i?void 0:i.luck}),(0,a.jsx)("span",{className:"text-black dark:text-white/90",children:" Luck"})]})]}),(0,a.jsxs)("div",{className:"lg:pt-2 lg:ml-[45px] pl-[15px] lg:pl-0 pr-[10px] justify-center lg:justify-normal lg:pr-0 md:items-center md:mt-[2.5px] lg:mt-0 flex flex-col md:flex-row text-black/70 dark:text-white/70 text-[12px] leading-[18px]",children:[n["rte/gift-box-drop-chance"],"\xa0",(0,a.jsx)("span",{className:"hidden lg:inline-block",children:":"})," \xa0",(0,a.jsxs)("span",{className:"font-bold text-[#25D395] text-[16px]",children:[(0,D.lJ)((0,D.GK)(null===s||void 0===s?void 0:s.giftBoxDropChance)),"%"]})]})]}),(0,a.jsx)(G.Z,{item:d[3]})]})]})]})]})})},Q=t(26042),S=t(69396),I=t(41664),q=t.n(I),M=t(69907),O=t(23349),B=t(53450),K=t(85750),U=t(86588),R=t(93992),J=t(17439),X=t(25015),Y=t(7833),H=t(71942),V=t(63662),W=function(e){var l,t,s,d,o,c,u=e.className,x=(0,N.TL)(),v=(0,N.CG)((function(e){return e.character})),p=v.characterDetail,m=v.levelInformation,f=(0,N.CG)((function(e){return e.profile})).myProfile.userProfile,h=(0,N.CG)((function(e){return e.auth})),g=(0,N.CG)((function(e){return e.mint})),j=(0,N.CG)((function(e){return e.history})).offerList,w=p.character,b=p.nft,k=p.user,C=p.config,D=(0,r.useState)(),G=D[0],z=D[1],P=(0,r.useState)(0),A=P[0],I=P[1],W=(0,r.useState)(!1),$=W[0],ee=W[1],le=(0,i.Z)(y.Z.useLazyGetOneCharacterQuery(),1)[0],te=(0,i.Z)(U.Z.useLazyGetCharacterSlotStatusQuery(),1)[0],ie=(0,i.Z)(R.Z.useLazyGetUserPermissionQuery(),1)[0],ae=(0,i.Z)(U.Z.useLazyGetCharacterMintableQuery(),1)[0],se=(0,r.useContext)(F.Z).state.lang,ne=(0,r.useState)(),de=ne[0],re=ne[1],oe=(0,r.useMemo)((function(){return w&&(null===w||void 0===w?void 0:w.level)<m.maxLevel?m.levels.find((function(e){return e.level===w.level+1})):null}),[w,m]),ce=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/confirm-character-purchase",propsState:p}))}),[x,p]),ue=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/make-character-offer",propsState:p}))}),[x,p]),xe=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/selling-character",propsState:p}))}),[x,p]),ve=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/abort-selling",propsState:{id:null===b||void 0===b?void 0:b.id,nftType:"Character"}}))}),[x,null===b||void 0===b?void 0:b.id]),pe=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/cancel-offer",propsState:(0,S.Z)((0,Q.Z)({},G),{nftId:null===b||void 0===b?void 0:b.id,type:"Character"})}))}),[x,null===b||void 0===b?void 0:b.id,G]),me=(0,r.useCallback)((function(){x(B.E.addToQueue({type:"popup/levelup-character",propsState:oe}))}),[x,oe]);(0,r.useEffect)((function(){if(null===f||void 0===f?void 0:f.id){var e=null===j||void 0===j?void 0:j.find((function(e){var l;return(null===(l=e.user)||void 0===l?void 0:l.id)===(null===f||void 0===f?void 0:f.id)}));z(e)}}),[j,null===f||void 0===f?void 0:f.id]),(0,r.useEffect)((function(){if(null===w||void 0===w?void 0:w.finishLevelUpAt){var e=setInterval((function(){var l=Number(null===w||void 0===w?void 0:w.finishLevelUpAt)-Date.now();if(l<0&&l>-1e3||l<0&&"level_up"===(null===b||void 0===b?void 0:b.status))return ee(!0),I(0),void clearInterval(e);l>0&&I(l/1e3)}),1e3);return function(){clearInterval(e)}}}),[null===w||void 0===w?void 0:w.finishLevelUpAt,le,null===b||void 0===b?void 0:b.id,x,null===oe||void 0===oe?void 0:oe.level,null===b||void 0===b?void 0:b.status]),(0,r.useEffect)((function(){if($){var e=setInterval((function(){le({nftId:null===b||void 0===b?void 0:b.id,type:"collection"})}),1e4);return $&&"level_up"!==(null===b||void 0===b?void 0:b.status)&&(ee(!1),clearInterval(e),x(K._.addToastMessage({title:"Level up successfully.",description:"Your character ".concat(null===b||void 0===b?void 0:b.id," has been upgraded to level ").concat(null===w||void 0===w?void 0:w.level),type:"success"})),te(null===b||void 0===b?void 0:b.id)),function(){clearInterval(e)}}}),[x,le,$,null===w||void 0===w?void 0:w.level,null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b.status,te]),(0,r.useEffect)((function(){ie(void 0)}),[ie]),(0,r.useEffect)((function(){(null===f||void 0===f?void 0:f.id)&&Number(null===w||void 0===w?void 0:w.id)&&ae(Number(null===w||void 0===w?void 0:w.id))}),[null===w||void 0===w?void 0:w.id,ae,g.mintable,null===f||void 0===f?void 0:f.id]);var fe=(0,r.useCallback)((function(){var e;return"on_sale"===(null===b||void 0===b?void 0:b.status)?(0,a.jsx)(E.z,{className:"contained-primary w-full mt-8",onClick:ve,children:(0,a.jsx)("div",{children:se["common/abort-selling-on-market"]})}):(0,a.jsxs)(E.z,{className:"contained-primary w-full mt-8 stroke-primary-btn",onClick:xe,disabled:"level_up"===(null===b||void 0===b?void 0:b.status)||"claim"===(null===b||void 0===b?void 0:b.status)||"withdraw"===(null===b||void 0===b?void 0:b.status)||!1===(null===(e=h.authPermission)||void 0===e?void 0:e.listCharacter),children:[(0,a.jsx)(Y.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:se["comp/selling-on-market"]})]})}),[ve,xe,se,null===b||void 0===b?void 0:b.status,null===(l=h.authPermission)||void 0===l?void 0:l.listCharacter]),he=(0,r.useCallback)((function(){var e;if("on_sale"!==(null===b||void 0===b?void 0:b.status))return"level_up"===(null===b||void 0===b?void 0:b.status)?(0,a.jsx)(E.z,{className:"contained-primary w-full mt-4 fill-primary-btn cursor-default",children:$?"".concat(se["comp/processing"]):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.Z,{}),(0,a.jsxs)("div",{className:"ml-2",children:[se["comp/leveling-up"]," -"," ",A?(0,T.J_)(A):"00:00:00"]})]})}):(0,a.jsxs)(E.z,{className:"contained-primary w-full mt-4 fill-primary-btn",onClick:me,disabled:"claim"===(null===b||void 0===b?void 0:b.status)||"1"===(null===C||void 0===C?void 0:C.tokenTypeEarning)||!oe||"withdraw"===(null===b||void 0===b?void 0:b.status)||!1===(null===(e=h.authPermission)||void 0===e?void 0:e.levelUpCharacter),children:[(0,a.jsx)(X.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:oe?"".concat(se["rte/level-up"]," - ").concat(Number((null===oe||void 0===oe?void 0:oe.rtCost)||0)," EP & \n            ").concat(Number((null===oe||void 0===oe?void 0:oe.gtCost)||0)," FLKZ"):"".concat(se["rte/level-up"])})]})}),[null===C||void 0===C?void 0:C.tokenTypeEarning,A,me,$,se,oe,null===b||void 0===b?void 0:b.status,null===(t=h.authPermission)||void 0===t?void 0:t.levelUpCharacter]),ge=(0,r.useCallback)((function(){localStorage.removeItem(Z.et)}),[]),je=(0,r.useCallback)((function(){var e;if("on_sale"!==(null===b||void 0===b?void 0:b.status))return(0,a.jsx)(q(),{href:"/my-profile/character/".concat(null===b||void 0===b?void 0:b.id,"/mint"),children:(0,a.jsxs)(E.z,{className:"contained-secondary w-full mt-4 fill-secondary-btn",disabled:"claim"===(null===b||void 0===b?void 0:b.status)||"level_up"===(null===b||void 0===b?void 0:b.status)||(null===w||void 0===w?void 0:w.mintCount)===(null===w||void 0===w?void 0:w.totalCount)||"withdraw"===(null===b||void 0===b?void 0:b.status)||!(null===(e=h.authPermission)||void 0===e?void 0:e.minting)||!g.mintable,onClick:ge,children:[(0,a.jsx)(V.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:"".concat(se["button/mint"]," (").concat(null===w||void 0===w?void 0:w.mintCount,"/").concat(null===w||void 0===w?void 0:w.totalCount,")")})]})})}),[null===w||void 0===w?void 0:w.mintCount,null===w||void 0===w?void 0:w.totalCount,se,g.mintable,null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b.status,null===(s=h.authPermission)||void 0===s?void 0:s.minting,ge]),we=(0,r.useCallback)((function(){if("on_sale"!==(null===b||void 0===b?void 0:b.status))return(0,a.jsx)(q(),{href:"/my-profile/character/".concat(null===b||void 0===b?void 0:b.id,"/enhance"),children:(0,a.jsxs)(E.z,{className:"contained-secondary w-full mt-4 fill-secondary-btn",disabled:"claim"===(null===b||void 0===b?void 0:b.status)||"level_up"===(null===b||void 0===b?void 0:b.status)||(null===w||void 0===w?void 0:w.rarity)===M.p.legendary||"withdraw"===(null===b||void 0===b?void 0:b.status),onClick:ge,children:[(0,a.jsx)(H.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:se["button/enhance"]})]})})}),[null===w||void 0===w?void 0:w.rarity,se,null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b.status,ge]),be=(0,r.useCallback)((function(){var e;if("on_sale"===(null===b||void 0===b?void 0:b.status))return(0,a.jsxs)(E.z,{className:"contained-primary w-full mt-8 stroke-primary-btn",onClick:ce,disabled:!1===(null===(e=h.authPermission)||void 0===e?void 0:e.purchaseCharacter),children:[(0,a.jsx)(Y.Z,{}),(0,a.jsxs)("div",{className:"ml-2",children:[se["button/buy-with"]," ",(0,T.qQ)(null===b||void 0===b?void 0:b.price)," ",(0,_._M)((null===b||void 0===b?void 0:b.token)||"")]})]})}),[ce,se,null===b||void 0===b?void 0:b.price,null===b||void 0===b?void 0:b.status,null===b||void 0===b?void 0:b.token,null===(d=h.authPermission)||void 0===d?void 0:d.purchaseCharacter]),Ne=(0,r.useCallback)((function(){var e;if("on_sale"===(null===b||void 0===b?void 0:b.status)&&(null===b||void 0===b?void 0:b.availableOffer))return G?(0,a.jsxs)(E.z,{className:"contained-secondary w-full mt-4 fill-secondary-btn",onClick:pe,disabled:!(null===b||void 0===b?void 0:b.availableOffer),children:[(0,a.jsx)(V.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:se["button/cancel-offer"]})]}):(0,a.jsxs)(E.z,{className:"contained-secondary w-full mt-4 fill-secondary-btn",onClick:ue,disabled:!1===(null===(e=h.authPermission)||void 0===e?void 0:e.makeCharacterOffer),children:[(0,a.jsx)(V.Z,{}),(0,a.jsx)("div",{className:"ml-2",children:se["button/make-an-offer"]})]})}),[pe,ue,se,null===b||void 0===b?void 0:b.availableOffer,null===b||void 0===b?void 0:b.status,null===(o=h.authPermission)||void 0===o?void 0:o.makeCharacterOffer,G]),ye=(0,r.useCallback)((function(){return(null===f||void 0===f?void 0:f.id)&&(null===k||void 0===k?void 0:k.id)===(null===f||void 0===f?void 0:f.id)?(0,a.jsxs)(r.Fragment,{children:[fe(),he(),je(),we()]}):(0,a.jsxs)(r.Fragment,{children:[be(),Ne()]})}),[fe,be,we,he,je,Ne,null===k||void 0===k?void 0:k.id,null===f||void 0===f?void 0:f.id]);return(0,r.useEffect)((function(){if(null===f||void 0===f?void 0:f.social){var e=O.G.find((function(e){return e.type===(null===f||void 0===f?void 0:f.social.type)}));re(e||null)}}),[null===f||void 0===f?void 0:f.social,null===f||void 0===f||null===(c=f.social)||void 0===c?void 0:c.type]),(0,a.jsxs)(L.Z,{className:"!rounded-none md:!rounded-[10px] relative md:px-4 pb-10 h-fit ".concat(u),children:[(0,a.jsx)("div",{className:n()("md:rounded-[10px] w-full h-[337px] lg:h-[441px]","-mt-28 shadow-xl border-slate-300 dark:border-slate-900 lg:mt-0","bg-cover bg-no-repeat bg-center md:rounded-b-none"),style:{backgroundImage:"url(".concat(null===b||void 0===b?void 0:b.imageUrl,")")}}),(0,a.jsxs)("div",{className:"px-[20px] lg:px-[30px] mt-5",children:[(0,a.jsxs)("div",{className:"flex flex-row items-start justify-between mb-5",children:[(0,a.jsxs)("div",{className:"text-h3 leading-[30px] font-semibold dark:text-white",children:["#",null===b||void 0===b?void 0:b.id]}),(0,a.jsxs)("div",{className:"flex flex-row right-0 gap-3 flex-wrap justify-end",children:[(0,a.jsxs)("div",{className:"ml-3 bg-[#EEEEEE] dark:bg-white/10 rounded-full py-1 px-3 font-bold text-black dark:text-white text-h9 h-fit",children:["Lvl ",null===w||void 0===w?void 0:w.level]}),(0,a.jsx)(J.Z,{type:(null===w||void 0===w?void 0:w.rarity)||"",customTextInside:"!text-h9",customClass:"!pl-[15px] !pr-[10px]"}),(null===f||void 0===f?void 0:f.id)&&(null===k||void 0===k?void 0:k.id)===(null===f||void 0===f?void 0:f.id)&&(0,a.jsxs)(a.Fragment,{children:["on_sale"===(null===b||void 0===b?void 0:b.status)&&(0,a.jsxs)("div",{className:"py-1 px-2 flex flex-row items-center rounded-md bg-secondary-1 gap-1",children:[(0,a.jsx)("div",{className:"text-white text-h9 font-semibold",children:"".concat((0,T.qQ)(null===b||void 0===b?void 0:b.price)," ").concat((0,_._M)(null===b||void 0===b?void 0:b.token))}),(0,a.jsx)("div",{className:"w-4 h-4",children:(0,_.YX)(null===b||void 0===b?void 0:b.token)})]}),"claim"===(null===b||void 0===b?void 0:b.status)&&(0,a.jsx)("div",{className:"text-caption-3 py-1 px-2 bg-secondary-2 rounded-md ml-1 text-white",children:se["comp/in-claim-request"]})]})]})]}),k&&(0,a.jsxs)("div",{className:"flex gap-[12px]",children:[(0,a.jsx)("div",{className:"flex justify-center items-center bg-black/70 text-[18px] leading-[18px] rounded-[50%] w-[40px] h-[40px] text-base font-semibold text-white",children:k.social?(0,a.jsx)(a.Fragment,{children:de&&(0,a.jsx)("div",{className:de.class,children:de.icon})}):(0,a.jsx)("p",{children:k.email.slice(0,1).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"text-[#00000080] dark:text-white text-[14px] leading-[18px]",children:se["comp/owner"]}),(0,a.jsx)("div",{className:"text-[18px] leading-[25px] dark:text-white",children:k.email})]})]}),ye()]})]})},$=function(){var e=(0,N.TL)(),l=(0,d.useRouter)(),t=l.query,s=t.id,_=t.nftType,T=t.page,D=(0,i.Z)(y.Z.useLazyGetOneCharacterQuery(),2),G=D[0],L=D[1],z=(0,i.Z)(y.Z.useLazyGetOneEquipmentQuery(),2),P=z[0],Q=z[1],S=(0,i.Z)(y.Z.useLazyGetOneBadgeQuery(),2),I=S[0],q=S[1],M=(0,N.CG)((function(e){return e.nft})).timeStampAction,O=(0,N.CG)((function(e){return e.character})).characterDetail,B=(0,N.CG)((function(e){return e.equipment})).equipmentDetail,K=(0,N.CG)((function(e){return e.badge})).badgeDetail,U=(0,r.useContext)(F.Z).state.lang,R=(0,i.Z)((0,k.c)(1024),1)[0],J=(0,r.useMemo)((function(){return!!L.isError||(!!Q.isError||!!q.isError)}),[q.isError,L.isError,Q.isError]),X=(0,r.useMemo)((function(){return!!L.isFetching||(!!Q.isFetching||!!q.isFetching)}),[q.isFetching,L.isFetching,Q.isFetching]),Y=(0,r.useCallback)((function(){switch(_){case"character":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W,{className:"mt-[130px] lg:mt-0 w-full lg:max-w-[490px] md:!px-0"}),(0,a.jsxs)("div",{className:"w-full mt-[5px] lg:mt-0 lg:max-w-[680px] lg:ml-[30px]",children:[(0,a.jsx)(A,{className:"mt-3 lg:mt-0"}),(0,a.jsx)(x.Z,{className:"mt-3",nft:O.nft,user:O.user})]})]});case"badge":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"mt-[130px] lg:mt-0 w-full lg:w-[55%] lg:max-w-[560px] md:!px-0"}),(0,a.jsxs)("div",{className:"w-full mt-[5px] lg:mt-0 lg:w-[65%] lg:max-w-[560px] lg:ml-[30px]",children:[(0,a.jsx)(c.Z,{className:"mt-3 lg:mt-0"}),(0,a.jsx)(x.Z,{className:"mt-3",nft:K.nft,user:K.user}),"marketplace"===T&&(0,a.jsx)(u.Z,{className:"mt-2"})]})]});case"equipment":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{className:"mt-[130px] lg:mt-0 w-full lg:w-[55%] lg:max-w-[560px] md:!px-0"}),(0,a.jsxs)("div",{className:"w-full mt-[5px] lg:mt-0 lg:w-[65%] lg:max-w-[560px] lg:ml-[30px]",children:[(0,a.jsx)(p.Z,{className:"mt-3 lg:mt-0"}),(0,a.jsx)(x.Z,{className:"mt-3",nft:B.nft,user:B.user}),"marketplace"===T&&(0,a.jsx)(m.Z,{className:"mt-2"})]})]});default:return null}}),[_,O,B,K,T]),H=(0,r.useCallback)((function(){var e=localStorage.getItem(Z.m8);e?l.push(e):l.push(g.Yj.MARKETPLACE)}),[l]);(0,r.useEffect)((function(){if(s)switch(_){case"character":G({nftId:s,type:"marketplace"===T?"market_place":"collection"});break;case"badge":I(s);break;case"equipment":P(s)}}),[G,P,I,s,_,M,T]),(0,r.useEffect)((function(){return function(){switch(_){case"character":e(w.h.setDefaultCharacterDetail());break;case"badge":e(j.w.setDefaultBadgeDetail());break;case"equipment":e(b.f.setDefaultEquipmentDetail())}}}),[e,_]);var V=(0,r.useCallback)((function(){return X?(0,a.jsx)("div",{className:"flex flex-col flex-grow justify-center items-center mt-6",children:(0,a.jsx)("div",{className:"w-icon-2xl h-icon-2xl animate-spin rounded-full border-4 border-white border-t-4 border-t-red-500"})}):J?(0,a.jsx)(f.Z,{title:"The NFT does not exist"}):(0,a.jsxs)(a.Fragment,{children:[R&&(0,a.jsxs)("div",{className:"flex justify-between px-[20px]",children:[(0,a.jsx)("div",{className:"text-[18px] dark:text-white font-[600] leading-[25px] capitalize",children:"My ".concat(_)}),(0,a.jsxs)("div",{className:"flex gap-[5px] cursor-pointer items-center",onClick:H,children:[(0,a.jsx)(C.Z,{className:"h-6 w-6 dark:fill-white"}),(0,a.jsx)(E.z,{className:"text-[14px] dark:text-white !leading-[25px] font-[600] !p-0",children:U["rte/character-list"]})]})]}),Y()]})}),[H,X,J,Y,R,_,U]);return(0,a.jsx)(h.Z,{description:"Market place",bHeaderAlwaysOnTop:!0,children:(0,a.jsx)("div",{className:n()("flex flex-col relative py-5 min-h-[calc(100vh_-_60px)]","lg:flex-row xl:py-[50px] xl:px-[170px] justify-center"),children:(0,a.jsx)("div",{className:"lg:w-[1200px] lg:min-w-[1200px] flex flex-col lg:flex-row",children:V()})})})}}},function(e){e.O(0,[2647,6725,9275,9774,2888,179],(function(){return l=48789,e(e.s=l);var l}));var l=e.O();_N_E=l}]);