(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{83236:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(69729)}])},11303:function(e,s,t){"use strict";var n=t(21082).Z.injectEndpoints({endpoints:function(e){return{getMainPageAccess:e.query({query:function(e){return{url:"/system-stats/main-page-access".concat(e?"?ref=".concat(e):"")}}}),getSettingAccessPage:e.query({query:function(){return{url:"/system-config/access-page"}}})}}});s.Z=n},69729:function(e,s,t){"use strict";t.r(s);var n=t(47568),c=t(828),i=t(20414),r=t(85893),a=t(25675),u=t.n(a),o=t(11163),l=t(67294),f=t(37674),g=t(79527),d=t(83053),m=t(22647),p=t(75764),h=t(52577),w=t(63454),y=t(66790),v=t(85750),x=t(49614),b=t(18612),j=t(11303),N=t(53450);s.default=function(){var e=(0,o.useRouter)(),s=(0,b.CG)((function(e){return e.auth})),t=(0,b.CG)((function(e){return e.accessibility})),a=(0,l.useState)(!0),_=a[0],S=a[1],E=(0,b.CG)((function(e){return e.accessibility})).sanction,k=(0,b.TL)(),A=(0,c.Z)(j.Z.useLazyGetSettingAccessPageQuery(),1)[0],P=(0,b.m7)(),O=(0,x.J)(!1),T=(0,l.useState)({accessPage:1,imageAccessPageOff:null}),C=T[0],R=T[1];(0,l.useEffect)((function(){if(O){s.previousRoute?s.previousRoute.includes("/login")?e.back():s.previousRoute.includes("/register")||s.previousRoute.includes(y.Yj.CHANGE_PASSWORD)||s.previousRoute===y.Yj.DELETE_ACCOUNT?e.replace("/"):e.replace(s.previousRoute):window.history.state.url.includes("/login")||window.history.state.url.includes("/register")?e.replace("/"):e.back(),k(v._.addToastMessage({title:"Login Successful!",type:"success",id:200}));var t=e.query,n=t.success,c=t.error;n?(localStorage.setItem(f.d.syncSuccess,"successfully"),setTimeout((function(){window.close()}))):c&&(localStorage.setItem(f.d.syncError,String(c)),setTimeout((function(){window.close()})))}}),[O,k,s.previousRoute,e]),(0,l.useEffect)((function(){(0,n.Z)((function(){var e,s;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return(e=localStorage.getItem(f.d.keyAllowAccessLogin))&&JSON.parse(e)===w.zH?[3,2]:[4,A(void 0)];case 1:return(s=t.sent()).data?(R(s.data.data),[3,3]):[2];case 2:R({accessPage:1,imageAccessPageOff:null}),t.label=3;case 3:return S(!1),[2]}}))}))()}),[A]),(0,l.useEffect)((function(){if(E){var e=localStorage.getItem(f.d.message);k(N.E.addToQueueAtBegin({type:"popup/reasons-ban",propsState:{reasons:e}}))}}),[E,k]);var Z=(0,l.useCallback)((function(){return t.bMenuOn&&P?(0,r.jsx)(p.l,{container:P,showLoginBtn:!1}):null}),[t.bMenuOn,P]);return O?null:(0,r.jsxs)("div",{className:"flex flex-col justify-between items-stretch min-h-screen",children:[(0,r.jsx)(m.Z,{className:"lg:hidden",bAlwaysOnTop:!0}),Z(),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-stretch grow",children:[(0,r.jsx)(g.Z,{className:"hidden lg:block w-1/2 h-full"}),_?(0,r.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,r.jsx)("div",{className:"w-icon-sm h-icon-sm grow-0 shrink-0 mr-4 last:mr-0",children:(0,r.jsx)(h.Z,{className:"fill-icon-dark animate-spin"})})}):(0,r.jsx)("div",{className:"flex flex-col justify-center items-center grow shrink bg-[#F8F8F8] dark:bg-[#0f0f0f]",children:Number(C.accessPage)?(0,r.jsx)(d.Z,{}):(0,r.jsx)(u(),{width:"540px",height:"600px",src:String(C.imageAccessPageOff),alt:""})})]})]})}}},function(e){e.O(0,[8966,2647,9364,9774,2888,179],(function(){return s=83236,e(e.s=s);var s}));var s=e.O();_N_E=s}]);